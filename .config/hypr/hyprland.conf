$mainMod = SUPER
$sS = SUPERSHIFT

monitor=,preferred,auto,auto

# autostart
exec-once = /home/cie/.config/hypr/hyprstart

# some default env vars.
env = XCURSOR_SIZE,24
env = MOZ_ENABLE_WAYLAND,1 
env = QT_QPA_PLATFORM,"wayland"
env = SDL_VIDEODRIVER,"wayland"

# keyboard and mouse
input {
    kb_layout = br,br
    kb_variant = nodeadkeys,
    kb_model =
    kb_options = grp:ctrl_alt_toggle
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

general {
    gaps_in = 10
    gaps_out = 10
    border_size = 2
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)

    layout = master
}

decoration {
    rounding = 10
    blur = yes
    blur_size = 3
    blur_passes = 1
    blur_new_optimizations = on
    inactive_opacity = 0.5

    drop_shadow = yes
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
}

animations {
    enabled = yes

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

master {
  new_is_master = true
  no_gaps_when_only = true
}

binds {
  allow_workspace_cycles = true
}

device:epic-mouse-v1 {
  sensitivity = -0.5
}

# window rules
windowrulev2 = float,class:^(org.kde.polkit-kde-authentication-agent-1)$,title:^(Authentication Required â€” PolicyKit1 KDE Agent)$
# workspace rules
windowrule = workspace 1, Code
windowrule = workspace 2, Brave-browser
windowrule = workspace 3, Alacritty
#windowrule = workspace 4, qutebrowser
windowrulev2 = workspace 5, class:^(heroic)$
windowrulev2 = workspace 5, class:^(steam)$

# binds
bind = $mainMod, T, exec, alacritty
bind = $sS, C, killactive, 
bind = $sS, E, exit, 
bind = $mainMod, O, togglefloating, 
bind = $mainMod, D, exec, wofi --show run
# Move focus with mainMod + arrow keys
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, J, layoutmsg,cyclenext
bind = $mainMod, K, layoutmsg,cycleprev
bind = $mainMod, C, layoutmsg,swapwithmaster
bind = $sS, F, layoutmsg,focusmaster
bind=SUPER,TAB,workspace,previous
# mouse binds
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# scratchpad rules
$dropterm  = ^(alacritty-dropterm)$
windowrule = float,$dropterm
windowrule = workspace special silent,$dropterm
windowrule = size 80% 20%,$dropterm

$edge-gpt  = ^(edge-gpt)$
windowrule = float,$edge-gpt
windowrule = workspace special silent,$edge-gpt
windowrule = size 30% 90%,$edge-gpt

# one tap keychord
# fullscreen keychord
bind=$mainMod,F,submap,fullscreen
submap=fullscreen
binde=,f,fullscreen,0
bind=,f,submap,reset
binde=,b,fullscreen,1
bind=,b,submap,reset
binde=,i,fakefullscreen
bind=,i,submap,reset
bind=,escape,submap,reset 
submap=reset

# scratchpad keychord
bind=$mainMod,S,submap,scratchpad
submap=scratchpad
binde=,g,exec,pypr toggle edge-gpt
bind=,g,submap,reset
binde=,u,exec,pypr toggle term
bind=,u,submap,reset
binde=,e,exec,~/.bin/easy_preset.sh LoudnessEqualizer
bind=,e,submap,reset
binde=,b,exec,~/.bin/easy_preset.sh HeavyBass
bind=,b,submap,reset
bind=,escape,submap,reset 
submap=reset

# workspace keyshort
bind=$mainMod,W,submap,workspace
submap=workspace
binde=,c,workspace,1
bind=,c,submap,reset
binde=,b,workspace,2
bind=,b,submap,reset
binde=,t,workspace,3
bind=,t,submap,reset
binde=,m,workspace,4
bind=,m,submap,reset
binde=,e,workspace,5
bind=,e,submap,reset
binde=,g,workspace,6
bind=,g,submap,reset
bind=,escape,submap,reset 
submap=reset

bind=$mainMod,M,submap,movetoworkspace
submap=movetoworkspace
binde=,c,movetoworkspace, 1
bind=,c,submap,reset
binde=,b,movetoworkspace, 2
bind=,b,submap,reset
binde=,t,movetoworkspace, 3
bind=,t,submap,reset
binde=,m,movetoworkspace, 4
bind=,m,submap,reset
binde=,e,movetoworkspace, 5
bind=,e,submap,reset
binde=,g,movetoworkspace, 6
bind=,g,submap,reset
bind=,escape,submap,reset 
submap=reset

# loop keychords
# resize keychord
bind=$sS,R,submap,resize
submap=resize
binde=,L,resizeactive,10 0
binde=,H,resizeactive,-10 0
binde=,K,resizeactive,0 -10
binde=,J,resizeactive,0 10
bind=,escape,submap,reset 
submap=reset

# volume keychord
bind=$mainMod,V,submap,volume
submap=volume
binde=,K,exec,~/.bin/volume.sh up
binde=,J,exec,~/.bin/volume.sh down
binde=,M,exec,~/.bin/volume.sh mute
bind=,escape,submap,reset 
submap=reset

# keybinds further down will be global again...
